<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–†–ï–ì–õ–ê–ú–ï–ù–¢-digital –†–û–°–°–ï–¢–ò –ö–£–ë–ê–ù–¨ ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</title>
  <script src="js/navigation-maps.js"></script>
  <style>
  /* ======= Design tokens (—Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π + –±–µ–ª—ã–π) ======= */
  :root{
    --brand:#0f1f3d;        /* —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π */
    --brand-600:#0b1730;
    --brand-700:#081125;
    --accent:#1e40af;       /* –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π —Å–∏–Ω–∏–π */
    --bg:#f7f9fc;           /* –±–µ–ª—ã–π —Ñ–æ–Ω */
    --text:#0b1220;
    --muted:#6b7280;
    --surface:#ffffff;
    --surface-2:#f2f5fb;
    --border:#e6eaf2;
    --shadow-sm:0 4px 12px rgba(15,31,61,.06);
    --shadow-md:0 10px 28px rgba(15,31,61,.10);
    --shadow-lg:0 18px 50px rgba(15,31,61,.18);
    --radius:16px;
    --light-blue:#eaf2ff;
    --light-blue-2:#f4f8ff;
    /* –ü–æ–ª–æ–∂–µ–Ω–∏–µ –ø–ª–∞—à–∫–∏ Digital –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –†–ï–ì–õ–ê–ú–ï–ù–¢ */
    --digital-shift-x:-.36rem;  /* ¬´–ø—Ä–∏–∂–∞—Ç—å¬ª –∫ –±—É–∫–≤–µ –¢ */
    --digital-shift-y:.03rem;   /* –≤—ã—Ä–æ–≤–Ω—è—Ç—å –ø–æ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ */
  }

  *{margin:0;padding:0;box-sizing:border-box}
  html,body{height:100%}

  body{
    font-family:Inter, -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,system-ui,sans-serif;
    background: radial-gradient(1200px 700px at -10% -20%, rgba(30,64,175,.08), transparent 60%),
                radial-gradient(1200px 700px at 110% -10%, rgba(15,31,61,.10), transparent 60%),
                var(--bg);
    color:var(--text);
    line-height:1.55;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }

  /* ======= Header: —Å–µ—Ç–∫–∞ 2 –∫–æ–ª–æ–Ω–∫–∏ ======= */
  .header{
    position:sticky; top:0; z-index:50;
    padding:.8rem 2rem 1rem; /* –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–Ω—è–ª–∏ –≤–µ—Ä—Ö */
    border-bottom:1px solid rgba(255,255,255,.12);
    color:#fff;
    background: linear-gradient(180deg, rgba(8,17,37,.55), rgba(8,17,37,.35)),
                radial-gradient(1000px 300px at 20% -40%, rgba(30,64,175,.35), transparent 60%),
                linear-gradient(135deg, var(--brand), #1b2d59);
    backdrop-filter:saturate(1.15) blur(8px);
    box-shadow: var(--shadow-sm);
    overflow:hidden;

    display:grid;
    grid-template-columns: minmax(320px,1fr) minmax(360px,520px);
    column-gap:2cm;           /* –æ—Ç—Å—Ç—É–ø ~2 —Å–º –¥–æ —Ñ–æ—Ä–º—ã —Å–ø—Ä–∞–≤–∞ */
    align-items:start;        /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ –≤–µ—Ä—Ö–Ω–µ–º—É –∫—Ä–∞—é */
  }
  /* —Ñ–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã */
  .header::before,
  .header::after{ content:""; position:absolute; inset:-50%; pointer-events:none; filter:blur(40px);
    background: conic-gradient(from 0deg, rgba(15,31,61,.25), rgba(255,255,255,.18), rgba(15,31,61,.25));
    animation: spin 30s linear infinite; opacity:.28; transform: translateZ(0);
  }
  .header::after{ animation-direction: reverse; opacity:.2 }
  @keyframes spin{ to{ transform: rotate(360deg) } }

  /* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –†–ï–ì–õ–ê–ú–ï–ù–¢ + Digital (–≤–ø–ª–æ—Ç–Ω—É—é), –ø–æ–¥ –Ω–∏–º –†–û–°–°–ï–¢–ò –ö–£–ë–ê–ù–¨ */
  .header-bar{ position:relative; z-index:1; display:flex; flex-direction:column; align-items:flex-start; gap:.25rem; margin:0; margin-top:-.05rem }
  .title-left{ display:flex; align-items:flex-end; gap:0 }
  .brand-title{ font-weight:900; letter-spacing:.6px; font-size:1.9rem; text-transform:uppercase; line-height:1; text-shadow:0 1px 0 rgba(0,0,0,.2) }
  .badge-digital{ font-size:1.25rem; transform: translate(var(--digital-shift-x), var(--digital-shift-y)) scale(.7);
    padding:.15rem .6rem; border-radius:999px; line-height:1.1; font-weight:700; letter-spacing:.3px;
    background:rgba(255,255,255,.20); border:1px solid rgba(255,255,255,.38); color:#eaf2ff; box-shadow: inset 0 1px 0 rgba(255,255,255,.25)
  }
  /* –ü–µ—Ä–µ–ª–∏–≤–∞—é—â–∞—è—Å—è –Ω–∞–¥–ø–∏—Å—å: —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π ‚Üî —è—Ä–∫–æ-–±–µ–ª—ã–π */
  .title-right{
    text-transform:uppercase; font-weight:900; letter-spacing:.6px; font-size:1.9rem; line-height:1; text-shadow:0 1px 0 rgba(0,0,0,.2);
    background: linear-gradient(90deg, #0f1f3d, #ffffff, #0f1f3d);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    background-size:200% auto; animation: rightShine 6s linear infinite; /* –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–ª–∏–≤–∞–Ω–∏–µ */
    margin-top:.02rem; /* –ø–æ—á—Ç–∏ –≤–ø–ª–æ—Ç–Ω—É—é –∫ –†–ï–ì–õ–ê–ú–ï–ù–¢ */
  }
  @keyframes rightShine{ from{ background-position: -100% 0 } to{ background-position: 200% 0 } }
  @media (prefers-reduced-motion: reduce){ .title-right{ animation:none } }

  /* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–µ–ª–µ–∫—Ç + –ø–æ–∏—Å–∫ —Å—Ç–æ–ª–±—Ü–æ–º (–ø–æ–¥–æ–¥–≤–∏–Ω—É–ª–∏ –±–ª–∏–∂–µ) */
  .controls{ position:relative; z-index:1; display:flex; flex-direction:column; gap:.5rem; align-items:stretch }

  /* –°—Ç—Ä–æ–≥–∏–µ –º–æ–Ω–æ—Ç–æ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã: –±–µ–∑ –ø–æ–¥—Å–≤–µ—Ç–æ–∫ –∏ –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª */
  select, input[type="text"]{
    appearance:none; padding:.5rem .8rem; border:1px solid rgba(255,255,255,.18);
    border-radius:12px; font-size:.92rem; color:#e5edff; background:rgba(255,255,255,.06);
    box-shadow:none; width:100%; transition: background-color .15s ease, border-color .15s ease; /* –±–µ–∑ transform */
  }
  /* —É–±—Ä–∞–ª–∏ –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω—ã–π –æ–±–æ–¥–æ–∫ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –Ω–∞ —Ñ–æ–∫—É—Å */
  select:focus, input[type="text"]:focus{ outline:none; border-color:rgba(255,255,255,.18); background:rgba(255,255,255,.06); box-shadow:none }
  select:hover, input[type="text"]:hover{ border-color:rgba(255,255,255,.24) }

  select{ min-width:280px; cursor:pointer;
    background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23c7d2fe'><path d='M4 6l4 4 4-4z'/></svg>");
    background-repeat:no-repeat; background-position:right .6rem center; background-size:16px; padding-right:2rem; }

  .search-wrap{ position:relative }
  #searchInput{ background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23c7d2fe' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='11' cy='11' r='8'/><line x1='21' y1='21' x2='16.65' y2='16.65'/></svg>"); background-repeat:no-repeat; background-position:.6rem center; padding-left:2.2rem; padding-right:2.2rem }
  #clearSearch{ position:absolute; top:50%; right:.35rem; transform:translateY(-50%); border:none; background:transparent; color:#c7d2fe; width:28px; height:28px; border-radius:8px; cursor:pointer; font-size:1.15rem; line-height:1; display:none }
  #clearSearch:hover{ color:#ffffff }
  ::placeholder{ color:#c7d2fe }

  /* ======= –ö–æ–Ω—Ç–µ–Ω—Ç ======= */
  .container{ max-width:1200px; margin:1.1rem auto; padding:0 1.25rem }

  .section-card{ background:var(--surface); border:1px solid var(--border); border-radius:14px; margin-bottom:.85rem; box-shadow:var(--shadow-sm); transition: box-shadow .2s ease, border-color .2s ease }
  .section-card:hover{ box-shadow:var(--shadow-md); border-color:#d8e0ee }

  /* –£–∑–∫–∏–µ ¬´—Ñ–æ—Ä–º—ã¬ª –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ + —Å–µ—Ä–∞—è –ø–æ–ª–æ—Å–∫–∞ —Å–≤–µ—Ä—Ö—É */
  .section-header{ position:relative; padding:.56rem .85rem; background:linear-gradient(180deg, var(--light-blue-2), var(--surface));
    cursor:pointer; display:flex; justify-content:space-between; align-items:center; gap:1rem; border-bottom:1px solid var(--border); border-top-left-radius:14px; border-top-right-radius:14px; box-shadow: inset 0 1px 0 #fff, 0 1px 0 rgba(15,31,61,.03) }
  .section-header::before{ content:""; position:absolute; left:0; right:0; top:0; height:3px; background:#e5eaf1; border-top-left-radius:inherit; border-top-right-radius:inherit }

  /* –¢—ë–º–Ω–æ-—Å–∏–Ω–∏–µ –ú–û–ù–û-–∫—Ä—É–∂–∫–∏ (–±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä) */
  .section-title{ display:flex; align-items:center; gap:.6rem; font-size:1rem; font-weight:800; letter-spacing:.25px; color:var(--brand-700) }
  .section-title::before{ content:""; width:12px; height:12px; border-radius:50%; background:#0f1f3d }

  .section-arrow{ font-size:.95rem; color:#6b7280; transition: transform .2s ease, color .15s ease }
  .section-header:hover .section-arrow{ color:#dc2626 } /* –∫—Ä–∞—Å–∏–º —Å—Ç—Ä–µ–ª–∫—É –≤ –∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ hover */
  .section-arrow.expanded{ transform:rotate(180deg) }

  /* –ü–ª–∞–≤–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ */
  .section-content{ padding:0 .85rem .85rem; max-height:0; overflow:hidden; opacity:0; transition:max-height .35s ease, opacity .25s ease, padding-top .2s ease }
  .section-content.expanded{ padding:.85rem; max-height:1500px; opacity:1 }

  .algorithm-block{ margin-bottom:.9rem }
  .algorithm-block:last-child{ margin-bottom:0 }

  /* –ö—Ä—É–≥–ª—è—à–æ–∫ –ø–µ—Ä–µ–¥ h4 ‚Äî —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π –º–æ–Ω–æ, –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ */
  .algorithm-block h4{ color:var(--brand-700); font-size:.95rem; font-weight:900; margin-bottom:.48rem; letter-spacing:.2px; display:flex; align-items:center; gap:.5rem }
  .algorithm-block h4::before{ content:""; width:10px; height:10px; border-radius:50%; background:#0f1f3d }

  .algorithm-block p{ font-size:.94rem; color:#3c465a; margin:.28rem 0 }
  .algorithm-block ul, .algorithm-block ol{ margin-left:1.15rem; margin-top:.3rem }
  .algorithm-block li{ margin:.28rem 0; color:#475569; font-size:.94rem }

  code{ background:#0b12200a; border:1px solid #e6ebf1; padding:.15rem .35rem; border-radius:8px; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace }

  /* ======= –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ, –±–µ–∑ ¬´–¥—ë—Ä–≥–∞–Ω–∏–π¬ª ======= */
  .action-buttons{ display:flex; gap:.5rem; margin-top:.75rem; padding-top:.75rem; border-top:1px solid var(--border); flex-wrap:wrap }
  .action-btn{ padding:.42rem .68rem; border:1px solid #e5eaf1; border-radius:10px; cursor:pointer; font-size:.86rem; font-weight:500; letter-spacing:.2px; display:inline-flex; align-items:center; gap:.4rem; transition: background-color .15s ease, color .15s ease, border-color .15s ease }
  .action-btn:hover{ border-color:#d7deeb }
  .btn-primary{ background:#eef2ff; color:#0f1f3d }
  .btn-primary:hover{ background:#dbe7ff; color:#0b1730 }
  .btn-success{ background:#e8f7ec; color:#0f5132 }
  .btn-success:hover{ background:#d3f0db; color:#063b23 }
  .btn-secondary{ background:#f5f7fb; color:#374151 }
  .btn-secondary:hover{ background:#e9eef8; color:#111827 }

  /* –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ ‚Äî —Ç–æ–ª—å–∫–æ ¬´–ù–∞–≤–µ—Ä—Ö¬ª */
  .floating-buttons{ position:fixed; bottom:1.1rem; right:1.1rem; display:flex; flex-direction:column; gap:.55rem; z-index:1000 }
  .floating-btn{ background:linear-gradient(135deg, var(--brand), #1b2d59); color:#fff; border:none; padding:.8rem; border-radius:14px; width:50px; height:50px; cursor:pointer; box-shadow:var(--shadow-lg); transition: transform .08s ease, box-shadow .2s ease, filter .2s ease; font-size:.95rem; display:flex; align-items:center; justify-content:center }
  .floating-btn:hover{ transform:translateY(-2px); box-shadow:0 16px 40px rgba(15,31,61,.22); filter:saturate(1.05) }

  .highlight{ background:linear-gradient(180deg, rgba(59,130,246,.22), rgba(59,130,246,.12)); padding:1px 4px; border-radius:6px; box-decoration-break:clone }

  .no-results{ text-align:center; padding:2.2rem; color:#6b7280; font-size:1rem; position:relative }
  .no-results::before{ content:"üîé"; display:block; font-size:1.6rem; margin-bottom:.4rem; opacity:.85 }

  /* –ú–æ–¥–∞–ª–∫–∞ */
  .source-modal{ display:none; position:fixed; z-index:2000; inset:0; background:rgba(8,17,37,.6); backdrop-filter: blur(6px) }
  .modal-content{ background:var(--surface); margin:3% auto; padding:1.1rem 1.1rem 1.2rem; border-radius:18px; width:88%; max-width:980px; max-height:85vh; overflow-y:auto; position:relative; box-shadow: var(--shadow-lg); border:1px solid var(--border) }
  .modal-content h2{ font-size:1.12rem; margin-bottom:.8rem; color:var(--brand-700) }
  .close-modal{ position:absolute; top:.85rem; right:.85rem; font-size:1.3rem; cursor:pointer; color:#6b7280; line-height:1; padding:.2rem .4rem; border-radius:10px; transition:background .2s ease,color .2s ease }
  .close-modal:hover{ color:#1f2937; background:#f2f5f9 }

  /* –ê–¥–∞–ø—Ç–∏–≤ */
  @media (max-width: 900px){
    .header{ grid-template-columns: 1fr; row-gap:.75rem; align-items:stretch }
    .controls{ order:2 }
    .brand-title{ font-size:1.55rem }
    .badge-digital{ font-size:1.05rem }
    .title-right{ font-size:1.55rem }
  }
  @media (max-width: 768px){
    .section-header{ padding:.5rem .8rem }
    .section-title{ font-size:.95rem }
    .action-btn{ padding:.36rem .52rem; font-size:.82rem }
    .floating-btn{ width:46px; height:46px; font-size:.9rem; border-radius:12px }
  }

  /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (–∞–≤—Ç–æ) */
  @media (prefers-color-scheme: dark){
    :root{ --bg:#0b1220; --text:#e5e7eb; --muted:#9aa3b2; --surface:#0e1424; --surface-2:#0b1220; --border:#16223a; --light-blue:#0f1f3d; --light-blue-2:#0e1424 }
    .section-card{ border-color:#16223a }
    .section-header{ background:linear-gradient(180deg,var(--light-blue-2),#0e1424); border-bottom-color:#16223a }
    .section-header::before{ background:#1f2a44 }
    .algorithm-block p, .algorithm-block li{ color:#cfd6df }
    code{ background:#0b1220; border-color:#16223a }
    .btn-secondary{ background:#131a2c; color:#cfd6df; border-color:#16223a }
    .modal-content{ border-color:#16223a }
  }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-bar">
      <span class="title-left">
        <span class="brand-title">–ú–µ—Ç–æ–¥–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –±–ª–æ–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è —É—Å–ª—É–≥</span>
        
      </span>
      <span class="title-right">–†–û–°–°–ï–¢–ò –ö–£–ë–ê–ù–¨</span>
    </div>
    <div class="controls">
      <select id="reglamentSelect">
        <option value="r057-2022">–† 057-2022 - –†–ï–ì–õ–ê–ú–ï–ù–¢ –ü–û –í–´–Ø–í–õ–ï–ù–ò–Æ, –°–û–ö–†–ê–©–ï–ù–ò–Æ –ò –ò–°–ö–õ–Æ–ß–ï–ù–ò–Æ –ë–ï–ó–î–û–ì–û–í–û–†–ù–û–ì–û –ò
–ë–ï–ó–£–ß–ï–¢–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø –≠–õ–ï–ö–¢–†–û–≠–ù–ï–†–ì–ò–ò</option>
        <option value="other" disabled>–î—Ä—É–≥–∏–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã (–±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã)</option>
      </select>
      <div class="search-wrap">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º..." />
        <button id="clearSearch" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–∏—Å–∫">√ó</button>
      </div>
    </div>
  </div>

  <div class="container" id="contentContainer"></div>

  <div class="floating-buttons">
    <!-- –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫—É –ù–∞–≤–µ—Ä—Ö -->
    <button class="floating-btn" id="scrollTopBtn" title="–ù–∞–≤–µ—Ä—Ö" style="display: none;">‚ñ≤</button>
  </div>

  <div id="sourceModal" class="source-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>–ò—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</h2>
      <div id="sourceText"></div>
    </div>
  </div>

  <script>
    // ======= –î–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (–∫–∞–∫ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–µ) =======
    const algorithms = {
      'r057-2022': [
        { id: 'normative', title: '–ù–û–†–ú–ê–¢–ò–í–ù–´–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø', content: { actions: [{ text: '–ò–∑—É—á–∏—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤ —Ä–∞–±–æ—Ç–µ' }], responsible: '–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏', deadline: '–ü–æ—Å—Ç–æ—è–Ω–Ω–æ' } },
        { id: 'general', title: '–û–ë–©–ò–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø', content: { actions: [{ text: '–ó–Ω–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑–¥–æ–≥–æ–≤–æ—Ä–Ω–æ–≥–æ/–±–µ–∑—É—á–µ—Ç–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è' }], keyPoints: [ '–î–æ–≥–æ–≤–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–∫–ª—é—á–µ–Ω–Ω—ã–º —Å –¥–∞—Ç—ã –¢–ü –∏–ª–∏ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫ –≤–∑—ã—Å–∫–∞–Ω–∏—è - 3 –≥–æ–¥–∞', '–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞ = –±–µ–∑–¥–æ–≥–æ–≤–æ—Ä–Ω–æ–µ' ], responsible: '–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏', deadline: '–ü–æ—Å—Ç–æ—è–Ω–Ω–æ' } },
        { id: 'info-activities', title: '–ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ï –ú–ï–†–û–ü–†–ò–Ø–¢–ò–Ø', content: { actions: [ { text: '–ü—Ä–æ–≤–æ–¥–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫—É —á–µ—Ä–µ–∑:', list: [ '–°–µ–º–∏–Ω–∞—Ä—ã –∏ –∫—Ä—É–≥–ª—ã–µ —Å—Ç–æ–ª—ã', '–†–∞–±–æ—Ç—É —Å –°–ú–ò', '–ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–∞—Ö –∏ —Å–æ—Ü—Å–µ—Ç—è—Ö', '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç–µ–Ω–¥—ã' ] } ], responsible: '–°–†–£ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –ø—Ä–µ—Å—Å-—Å–ª—É–∂–±–æ–π', deadline: '–ü–æ –ø–ª–∞–Ω—É –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π' } },
        { id: 'parallel-connection', title: '–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï –î–û–ì–û–í–û–†–ê –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û –° –¢–ü', content: { steps: [ '–ù–∞–ø—Ä–∞–≤–∏—Ç—å –∫–æ–ø–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞—è–≤–∏—Ç–µ–ª—è –≤ –≠–°–ö', '–ü–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–æ–≥–æ–≤–æ—Ä–∞ –æ—Ç –≠–°–ö –Ω–∞ –£–†–†–£ –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –∑–∞—è–≤–∏—Ç–µ–ª–µ–º', '–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¢–ü –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∞–∫—Ç—ã –≤ –≠–°–ö' ], deadlines: [ '–ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≠–°–ö - 2 —Ä–∞–±. –¥–Ω—è —Å –¥–∞—Ç—ã –¥–æ–≥–æ–≤–æ—Ä–∞ –¢–ü', '–ü–µ—Ä–µ–¥–∞—á–∞ –∞–∫—Ç–æ–≤ –ø–æ—Å–ª–µ –¢–ü - 2 —Ä–∞–±. –¥–Ω—è' ], responsible: '–°–†–£, –£–†–†–£', control: '–ù–µ–¥–æ–ø—É—â–µ–Ω–∏–µ —Å–∞–º–æ–≤–æ–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è' } },
        { id: 'no-contract-consumption', title: '–û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø –ë–ï–ó –î–û–ì–û–í–û–†–ê', content: { steps: [ '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∏—Å—å–º–µ–Ω–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤ —É –≤—Å–µ—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π', '–°–†–£/–£–†–†–£ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—ä–µ–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è', '–ü—Ä–µ–¥—ä—è–≤–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ì–ü –ø–æ –æ–ø–ª–∞—Ç–µ —É—Å–ª—É–≥ –ø–µ—Ä–µ–¥–∞—á–∏' ], responsible: '–°–†–£, –£–†–†–£', deadline: '–ß–µ—Ä–µ–∑ 2 –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –ì–ü –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π' } },
        { id: 'restriction-control', title: '–í–í–ï–î–ï–ù–ò–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –ò –ö–û–ù–¢–†–û–õ–¨', content: { steps: [ '–í–≤–æ–¥–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–æ–º, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—â–∏–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é', '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –æ–ø–æ—Ä–µ –í–õ', '–°–æ—Å—Ç–∞–≤–∏—Ç—å –∞–∫—Ç —Å —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏–µ–π', '–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã—è–≤–ª–µ–Ω–∏–∏ - —É—Å–∏–ª–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ä—ã (–∑–∞—â–∏—Ç–Ω—ã–µ –∫–æ–∂—É—Ö–∏, –¥–µ–º–æ–Ω—Ç–∞–∂ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –∑–∞–º–µ–Ω–∞ –Ω–∞ –°–ò–ü)' ], responsible: '–†–≠–°', deadline: '–ü–æ –∑–∞—è–≤–∫–∞–º –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ', control: '–ü–æ –≥—Ä–∞—Ñ–∏–∫—É –ø—Ä–æ–≤–µ—Ä–æ–∫' } },
        { id: 'planning-detection', title: '–ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï –í–´–Ø–í–õ–ï–ù–ò–Ø –ù–ï–£–ß–¢–ï–ù–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø', content: { actions: [ { text: '–î–µ–π—Å—Ç–≤–∏—è –£–†–†–£:', list: [ '–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–æ—Ñ–∏–¥–µ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Ç–µ—Ä—å', '–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Ä–∏—Å–∫–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π', '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–π–¥–æ–≤' ] } ], riskCriteria: [ '–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é', '–ù–µ–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–µ–¥–æ–ø—É—Å–∫', '–†–∞–Ω–µ–µ —É–ª–∏—á–µ–Ω–Ω—ã–µ –≤ —Ö–∏—â–µ–Ω–∏–∏', '–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º' ], responsible: '–£–†–†–£ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –°–†–£', deadline: '–ï–∂–µ–º–µ—Å—è—á–Ω–æ', raids: '–ú–∏–Ω–∏–º—É–º 1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –≤ –∫–∞–∂–¥–æ–º –†–≠–°' } },
        { id: 'consumption-analysis', title: '–ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ì–û –≠–õ–ï–ö–¢–†–û–ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø', content: { steps: [ '–ê–Ω–∞–ª–∏–∑ –¥–∏–Ω–∞–º–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–µ—Ä–∏–æ–¥—ã', '–†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–æ —Ç–∏–ø–∞–º', '–í—ã–±–æ—Ä —Ñ–∏–¥–µ—Ä–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏ (–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö)' ], responsible: '–£–†–†–£', deadline: '–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ä–µ–π–¥–æ–º' } },
        { id: 'check-preparation', title: '–ü–û–î–ì–û–¢–û–í–ö–ê –ö –ü–†–û–í–ï–†–ö–ê–ú', content: { sources: [ '–î–∞–Ω–Ω—ã–µ –æ—Ç –ì–ü/–≠–°–ö (–ø.123, 125 –ü–ü –†–§ ‚Ññ442)', '–û–±—Ä–∞—â–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω (–≤ —Ç.—á. –∞–Ω–æ–Ω–∏–º–Ω—ã–µ)', '–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ', '–ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–µ—Ä—å', '–î–∞–Ω–Ω—ã–µ –æ –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö', '–ê–Ω–∞–ª–∏–∑ –∑–∞—è–≤–æ–∫ –Ω–∞ –¢–ü' ], actions: [ { text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é' } ], responsible: '–§–≠–°, –£–†–†–£', deadline: '–í —Ç–µ—á–µ–Ω–∏–µ 1 —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è' } },
        { id: 'conducting-checks', title: '–ü–†–û–í–ï–î–ï–ù–ò–ï –ü–†–û–í–ï–†–û–ö', content: { steps: [ '–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å—Å—è, –ø—Ä–µ–¥—ä—è–≤–∏—Ç—å —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ', '–†–∞–∑—ä—è—Å–Ω–∏—Ç—å —Ü–µ–ª—å –ø—Ä–æ–≤–µ—Ä–∫–∏', '–ü—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ—Ñ–∏–∫—Å–∞—Ü–∏—é —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º', '–°–æ—Å—Ç–∞–≤–∏—Ç—å –∞–∫—Ç –æ –Ω–µ—É—á—Ç–µ–Ω–Ω–æ–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏', '–ü–æ–ª—É—á–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è', '–í—Ä—É—á–∏—Ç—å –∫–æ–ø–∏—é –∞–∫—Ç–∞' ], nonAdmission: [ '–°–æ—Å—Ç–∞–≤–∏—Ç—å –∞–∫—Ç –Ω–µ–¥–æ–ø—É—Å–∫–∞ —Å –¥–≤—É–º—è —Å–≤–∏–¥–µ—Ç–µ–ª—è–º–∏' ], consultations: '–ü—Ä–∏ –º–æ—â–Ω–æ—Å—Ç–∏ >150 –∫–í—Ç –∏–ª–∏ –æ–±—ä–µ–º–µ >5000 –∫–í—Ç—á - –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –°–ü–°–î–§ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ', responsible: '–ü–µ—Ä—Å–æ–Ω–∞–ª –†–≠–°/–£–†–†–£', deadline: '–ù–∞ –º–µ—Å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏' } },
        { id: 'calculation-unaccounted', title: '–†–ê–°–ß–ï–¢ –ë–ï–ó–£–ß–ï–¢–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø (–Æ–†–õ–ò–¶–ê)', content: { period: '–û—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è, –º–∞–∫—Å–∏–º—É–º 4380 —á–∞—Å–æ–≤ (6 –º–µ—Å—è—Ü–µ–≤)', formulas: [ { title: '–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ Pmax:', formula: 'W = Pmax √ó T √ó 1,5' }, { title: '–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Pmax:', list: [ '–û–¥–Ω–æ—Ñ–∞–∑–Ω—ã–π: W = (I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T) / 1000', '–¢—Ä–µ—Ö—Ñ–∞–∑–Ω—ã–π: W = (‚àö3 √ó I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T) / 1000' ] } ], parameters: [ 'cosœÜ = 0,9 (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö)', 'I–¥–æ–ø - –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º –∫–∞–±–µ–ª—è', 'U—Ñ = 0,22 –∫–í' ], correction: '–í—ã—á–µ—Å—Ç—å —Ä–∞–Ω–µ–µ –ø—Ä–µ–¥—ä—è–≤–ª–µ–Ω–Ω–æ–µ –∫ –æ–ø–ª–∞—Ç–µ', responsible: '–ù–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ –°–£–≠/–°–†–£/–£–†–†–£', deadline: '2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è —Å –¥–∞—Ç—ã –∞–∫—Ç–∞' } },
        { id: 'calculation-unaccounted-phys', title: '–†–ê–°–ß–ï–¢ –ë–ï–ó–£–ß–ï–¢–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø (–§–ò–ó–õ–ò–¶–ê)', content: { unauthorizedConnection: [ '–ü–µ—Ä–∏–æ–¥: –¥–æ 3 –º–µ—Å—è—Ü–µ–≤ –¥–æ –¥–∞—Ç—ã –≤—ã—è–≤–ª–µ–Ω–∏—è', '–†–∞—Å—á–µ—Ç: –ø–æ –Ω–æ—Ä–º–∞—Ç–∏–≤—É √ó 10' ], meterIntervention: [ '–ü–µ—Ä–∏–æ–¥: —Å –¥–∞—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–æ–º–±, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 3 –º–µ—Å—è—Ü–µ–≤', '–†–∞—Å—á–µ—Ç: –Ω–æ—Ä–º–∞—Ç–∏–≤ √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫ √ó 10' ], correction: [ '–í—ã—á–µ—Å—Ç—å —Ä–∞–Ω–µ–µ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–µ (–∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –º–∏–º–æ –ü–£)', '–£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ –ø—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è' ], responsible: '–ù–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ –°–£–≠/–°–†–£/–£–†–†–£', deadline: '2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è —Å –¥–∞—Ç—ã –∞–∫—Ç–∞' } },
        { id: 'contractless-calculation', title: '–†–ê–°–ß–ï–¢ –ë–ï–ó–î–û–ì–û–í–û–†–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø', content: { period: [ '–ú–∞–∫—Å–∏–º—É–º 8760 —á–∞—Å–æ–≤ (1 –≥–æ–¥)', '–û—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è', '–ü—Ä–∏ —Å–∞–º–æ–≤–æ–ª—å–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ - –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –í–õ', '–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ - –æ—Ç –¥–∞—Ç—ã –≤–≤–µ–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è' ], formulas: [ { title: '–§–æ—Ä–º—É–ª—ã:', list: [ '–û–¥–Ω–æ—Ñ–∞–∑–Ω—ã–π: W = (I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T–±–¥) / 1000', '–¢—Ä–µ—Ö—Ñ–∞–∑–Ω—ã–π: W = (‚àö3 √ó I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T–±–¥) / 1000' ] } ], pricing: [ '–ù–∞—Å–µ–ª–µ–Ω–∏–µ - –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º –î–ì–†–¢ –ö–ö', '–ü—Ä–æ—á–∏–µ - —Ü–µ–Ω–∞ –ø–æ—Ç–µ—Ä—å + —Ç–∞—Ä–∏—Ñ –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É' ], important: '–ù–ï –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ–±—ä–µ–º –æ–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥', responsible: '–°–†–£, –£–†–†–£', deadline: '2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è —Å –¥–∞—Ç—ã –∞–∫—Ç–∞' } },
        { id: 'meter-malfunction', title: '–î–ï–ô–°–¢–í–ò–Ø –ü–†–ò –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–ò –ü–†–ò–ë–û–†–û–í –£–ß–ï–¢–ê', content: { steps: [ '–°–æ—Å—Ç–∞–≤–∏—Ç—å –∞–∫—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ –ø.173 –ü–ü ‚Ññ442', '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ—Ñ–∏–∫—Å–∞—Ü–∏—é', '–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç' ], recalculation: [ '–ü–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º –∑–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ—à–ª–æ–≥–æ –≥–æ–¥–∞', '–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ - –∑–∞ –±–ª–∏–∂–∞–π—à–∏–π –ø–µ—Ä–∏–æ–¥ —Å –ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏', '–î–ª—è –ò–°–£–≠ - –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞' ], responsible: '–°–£–≠', deadline: '–í –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏' } },
        { id: 'commission-review', title: '–ö–û–ú–ò–°–°–ò–û–ù–ù–û–ï –†–ê–°–°–ú–û–¢–†–ï–ù–ò–ï –ê–ö–¢–û–í', content: { structure: [ '–ö–æ–º–∏—Å—Å–∏—è –£–†–†–£ - –ø–µ—Ä–≤–∏—á–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ', '–ö–æ–º–∏—Å—Å–∏—è –§–≠–° - —Å–ø–æ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è' ], composition: [ '–ú–∏–Ω–∏–º—É–º 3 —á–µ–ª–æ–≤–µ–∫–∞', '–í –∫–æ–º–∏—Å—Å–∏—é –§–≠–° –≤—Ö–æ–¥—è—Ç: –∑–∞–º. –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –ø–æ –†–†–£, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –°–ü–°–î–§, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏' ], tasks: [ '–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∞–∫—Ç–æ–≤', '–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤', '–ü–µ—Ä–µ–¥–∞—á–∞ –∞–∫—Ç–æ–≤ –≤ –≠–°–ö/–°–ü–°–î–§ –∏–ª–∏ –Ω–∞ —Å–ø–∏—Å–∞–Ω–∏–µ' ], timing: [ '–ö–æ–º–∏—Å—Å–∏—è –£–†–†–£ - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ', '–ö–æ–º–∏—Å—Å–∏—è –§–≠–° - –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏', '–ü–µ—Ä–µ–¥–∞—á–∞ –≤ –≠–°–ö - 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è —Å –¥–∞—Ç—ã —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è' ], documents: '–í—Å–µ —Ä–µ—à–µ–Ω–∏—è –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º', responsible: '–ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª–∏ –∫–æ–º–∏—Å—Å–∏–π', deadline: '–°–º. –≤—ã—à–µ' } },
        { id: 'damage-compensation', title: '–í–û–ó–ú–ï–©–ï–ù–ò–ï –£–©–ï–†–ë–ê –û–¢ –ë–ï–ó–£–ß–ï–¢–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø', content: { steps: [ '–†–°–ö –ø–µ—Ä–µ–¥–∞–µ—Ç –∞–∫—Ç —Å —Ä–∞—Å—á–µ—Ç–æ–º –≤ –≠–°–ö', '–≠–°–ö –≤–∫–ª—é—á–∞–µ—Ç –≤ –æ–±—ä–µ–º —É—Å–ª—É–≥ –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Å—á–µ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é', '–ü—Ä–∏ –Ω–µ–æ–ø–ª–∞—Ç–µ - –≠–°–ö –≤–µ–¥–µ—Ç –ø—Ä–µ—Ç–µ–Ω–∑–∏–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É', '–†–°–ö —É—á–∞—Å—Ç–≤—É–µ—Ç –∫–∞–∫ 3-–µ –ª–∏—Ü–æ –≤ —Å—É–¥–µ' ], deadlines: [ '–ü–µ—Ä–µ–¥–∞—á–∞ –≤ –≠–°–ö - 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è', '–†–µ–µ—Å—Ç—Ä –æ—Ç –≠–°–ö - –µ–∂–µ–º–µ—Å—è—á–Ω–æ' ], responsible: '–°–†–£ ‚Üí –≠–°–ö', deadline: '–°–º. –≤—ã—à–µ' } },
        { id: 'calculation-unaccounted-dup', title: '–†–ê–°–ß–ï–¢ –ë–ï–ó–£–ß–ï–¢–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø (–Æ–†–õ–ò–¶–ê)', content: { period: '–û—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è, –º–∞–∫—Å–∏–º—É–º 4380 —á–∞—Å–æ–≤ (6 –º–µ—Å—è—Ü–µ–≤)', formulas: [ { title: '–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ Pmax:', formula: 'W = Pmax √ó T √ó 1,5' }, { title: '–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Pmax:', list: [ '–û–¥–Ω–æ—Ñ–∞–∑–Ω—ã–π: W = (I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T) / 1000', '–¢—Ä–µ—Ö—Ñ–∞–∑–Ω—ã–π: W = (‚àö3 √ó I–¥–æ–ø √ó U—Ñ √ó cosœÜ √ó T) / 1000' ] } ], parameters: [ 'cosœÜ = 0,9 (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö)', 'I–¥–æ–ø - –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º –∫–∞–±–µ–ª—è', 'U—Ñ = 0,22 –∫–í' ], correction: '–í—ã—á–µ—Å—Ç—å —Ä–∞–Ω–µ–µ –ø—Ä–µ–¥—ä—è–≤–ª–µ–Ω–Ω–æ–µ –∫ –æ–ø–ª–∞—Ç–µ', responsible: '–ù–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ –°–£–≠/–°–†–£/–£–†–†–£', deadline: '2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è —Å –¥–∞—Ç—ã –∞–∫—Ç–∞' } },
        { id: 'cost-recovery', title: '–í–ó–´–°–ö–ê–ù–ò–ï –°–¢–û–ò–ú–û–°–¢–ò –ë–ï–ó–î–û–ì–û–í–û–†–ù–û–ì–û –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø', content: { steps: [ '–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–±–µ–∑ –ù–î–°)', '–ü–µ—Ä–µ–¥–∞—á–∞ –≤ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—é –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞', '–í—Ä—É—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –ª–∏—Ü—É' ], nonPayment: [ '–ü–µ—Ä–µ–¥–∞—á–∞ –≤ –°–ü–°–î–§ —á–µ—Ä–µ–∑ 10 –¥–Ω–µ–π –ø–æ—Å–ª–µ —Å—Ä–æ–∫–∞ –æ–ø–ª–∞—Ç—ã', '–°–ü–°–î–§ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ—Ç–µ–Ω–∑–∏—é - 5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π', '–ü—Ä–∏ –æ—Ç–∫–∞–∑–µ - –∏—Å–∫ –≤ —Å—É–¥ –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –º–µ—Å—è—Ü–µ–≤' ], documents: [ '–û—Ä–∏–≥–∏–Ω–∞–ª –∞–∫—Ç–∞ –∏ —Ä–∞—Å—á–µ—Ç–∞', '–î–æ–∫—É–º–µ–Ω—Ç—ã –æ –ø–µ—Ä–∏–æ–¥–µ —Ä–∞—Å—á–µ—Ç–∞', '–§–æ—Ç–æ/–≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã', '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞' ], responsible: '–°–†–£ ‚Üí –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è ‚Üí –°–ü–°–î–§', deadline: '–°–º. –≤—ã—à–µ' } },
        { id: 'law-enforcement', title: '–ó–ê–Ø–í–õ–ï–ù–ò–Ø –í –ü–†–ê–í–û–û–•–†–ê–ù–ò–¢–ï–õ–¨–ù–´–ï –û–†–ì–ê–ù–´', content: { timing: [ '–ü–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ø–∏—é –∞–∫—Ç–∞ –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - 4 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è', '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∏—Ç –∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞—è–≤–ª–µ–Ω–∏–µ - 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è' ], forms: [ '–§–∏–∑–ª–∏—Ü–∞ - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 13', '–Æ—Ä–ª–∏—Ü–∞/–ò–ü - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 14', '–°—É–º–º–∞ >250 —Ç—ã—Å. —Ä—É–±. - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 14.1', '–ü–æ—Å–ª–µ –≤–≤–µ–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 14.2', '–ü—Ä–∏ –º–æ—â–Ω–æ—Å—Ç–∏ >150 –∫–í—Ç - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 14.3' ], special: '–ü—Ä–∏ —Å—É–º–º–µ >250 —Ç—ã—Å. - –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ò–ê', responsible: '–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', deadline: '7 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å –¥–∞—Ç—ã —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∞' } },
        { id: 'operational-control', title: '–û–ü–ï–†–ê–¢–ò–í–ù–´–ô –ö–û–ù–¢–†–û–õ–¨', content: { steps: [ '–í–Ω–µ—Å—Ç–∏ –≤—Å–µ –∞–∫—Ç—ã –≤ –ü–ö "1–°:–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞"', '–§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 9-12) –≤ Excel', '–°–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Ä–µ–µ—Å—Ç—Ä–∞–º–∏ –≠–°–ö', '–í–µ—Å—Ç–∏ –∂—É—Ä–Ω–∞–ª—ã —É—á–µ—Ç–∞ –∞–∫—Ç–æ–≤' ], reporting: [ '–§–æ—Ä–º–∞—Ç: Excel + —Å–∫–∞–Ω —Å –ø–æ–¥–ø–∏—Å—è–º–∏', '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –≤ –£–†–£ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –†–£–∏–£–≠ –ò–ê' ], storage: [ '–ñ—É—Ä–Ω–∞–ª—ã –∏ –æ—Ç—á–µ—Ç—ã - 5 –ª–µ—Ç', '–ê–∫—Ç—ã –∏ —Å–∫–∞–Ω-–∫–æ–ø–∏–∏ - 5 –ª–µ—Ç –∏–ª–∏ –¥–æ –ø–æ–ª–Ω–æ–π –æ–ø–ª–∞—Ç—ã' ], responsible: '–°–†–£, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ –†–≠–°', deadline: '–î–æ 18 —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞, —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–º' } }
      ]
    };

    let expandedSections = new Set();

    // ======= –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ =======
    function normalizeStr(s){
      return String(s)
        .toLowerCase()
        .replace(/—ë/g,'–µ')
        .replace(/[\s._(),\-‚Äì‚Äî\[\]{}:;!?"'`~+/\\]+/g,' ')
        .replace(/\s+/g,' ')
        .trim();
    }

    // ======= –ü–æ–∏—Å–∫ –ø–æ –æ–±—ä–µ–∫—Ç—É =======
    function searchInObject(obj, termNorm){
      for (let key in obj){
        if (!Object.prototype.hasOwnProperty.call(obj, key)) continue;
        const value = obj[key];
        if (typeof value === 'string'){
          if (normalizeStr(value).includes(termNorm)) return true;
        } else if (Array.isArray(value)){
          for (let item of value){
            if (typeof item === 'string') { if (normalizeStr(item).includes(termNorm)) return true; }
            else if (item && typeof item === 'object' && searchInObject(item, termNorm)) return true;
          }
        } else if (value && typeof value === 'object'){
          if (searchInObject(value, termNorm)) return true;
        }
      }
      return false;
    }

    // ======= –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ =======
    function escapeRegExp(str){ return String(str).replace(/[.*+?^${}()|[\]\\]/g, '\\$&') }
    function highlightText(text, searchTerm){
      if (!searchTerm || text == null || typeof text !== 'string') return text;
      const pattern = escapeRegExp(searchTerm);
      if (!pattern) return text;
      const regex = new RegExp(`(${pattern})`, 'giu');
      return text.replace(regex, '<span class="highlight">$1</span>');
    }

    function renderContent(){
      const container = document.getElementById('contentContainer');
      const selectedReglament = document.getElementById('reglamentSelect').value;
      const rawInput = document.getElementById('searchInput').value || '';
      const normTerm = normalizeStr(rawInput);
      const rawTerm = rawInput.trim();

      // –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫—Ä–µ—Å—Ç–∏–∫
      const clearBtn = document.getElementById('clearSearch');
      clearBtn.style.display = rawTerm ? 'block' : 'none';

      container.innerHTML = '';
      if (!algorithms[selectedReglament]){ container.innerHTML = '<div class="no-results">–†–µ–≥–ª–∞–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω</div>'; return; }

      let list = algorithms[selectedReglament];
      if (normTerm){ list = list.filter(algo => searchInObject(algo, normTerm)); }
      if (list.length === 0){ container.innerHTML = '<div class="no-results">–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>'; return; }

      list.forEach(algo => container.appendChild(createSection(algo, rawTerm)));
    }

    function createSection(algo, rawTerm){
      const card = document.createElement('div'); card.className = 'section-card';

      const header = document.createElement('div'); header.className = 'section-header'; header.onclick = () => toggleSection(algo.id);

      const title = document.createElement('div'); title.className = 'section-title'; title.innerHTML = highlightText(algo.title, rawTerm);

      const arrow = document.createElement('div'); arrow.className = 'section-arrow'; arrow.innerHTML = '‚ñº'; if (expandedSections.has(algo.id)) arrow.classList.add('expanded');

      header.appendChild(title); header.appendChild(arrow);

      const content = document.createElement('div'); content.className = 'section-content'; content.id = `content-${algo.id}`; if (expandedSections.has(algo.id)) content.classList.add('expanded');

      if (algo.content.steps) content.appendChild(createBlock('–ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:', algo.content.steps, rawTerm, true));

      if (algo.content.actions){
        algo.content.actions.forEach(action => {
          const actionDiv = document.createElement('div'); actionDiv.className = 'algorithm-block';
          actionDiv.innerHTML = `<h4>${highlightText(action.text, rawTerm)}</h4>`;
          if (action.list){ const ul = document.createElement('ul'); action.list.forEach(item => { const li = document.createElement('li'); li.innerHTML = highlightText(item, rawTerm); ul.appendChild(li); }); actionDiv.appendChild(ul); }
          content.appendChild(actionDiv);
        });
      }

      if (algo.content.keyPoints) content.appendChild(createBlock('–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:', algo.content.keyPoints, rawTerm));
      if (algo.content.riskCriteria) content.appendChild(createBlock('–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥—Ä—É–ø–ø—ã —Ä–∏—Å–∫–∞:', algo.content.riskCriteria, rawTerm));
      if (algo.content.raids){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–†–µ–π–¥—ã:</h4><p>${highlightText(algo.content.raids, rawTerm)}</p>`; content.appendChild(b); }
      if (algo.content.period){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–ü–µ—Ä–∏–æ–¥ —Ä–∞—Å—á–µ—Ç–∞:</h4><p>${highlightText(algo.content.period, rawTerm)}</p>`; content.appendChild(b); }

      if (algo.content.formulas){
        algo.content.formulas.forEach(f => {
          const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>${f.title}</h4>`;
          if (f.formula) b.innerHTML += `<p><code>${f.formula}</code></p>`;
          if (f.list){ const ul = document.createElement('ul'); f.list.forEach(item => { const li = document.createElement('li'); li.innerHTML = `<code>${item}</code>`; ul.appendChild(li); }); b.appendChild(ul); }
          content.appendChild(b);
        });
      }

      if (algo.content.parameters) content.appendChild(createBlock('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:', algo.content.parameters, rawTerm));
      if (algo.content.sources) content.appendChild(createBlock('–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:', algo.content.sources, rawTerm));
      if (algo.content.unauthorizedConnection) content.appendChild(createBlock('–ü—Ä–∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ (–ø.62 –ü–ü –†–§ ‚Ññ354):', algo.content.unauthorizedConnection, rawTerm));
      if (algo.content.meterIntervention) content.appendChild(createBlock('–ü—Ä–∏ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–µ –≤ –ø—Ä–∏–±–æ—Ä —É—á–µ—Ç–∞ (–ø.81(11) –ü–ü –†–§ ‚Ññ354):', algo.content.meterIntervention, rawTerm));
      if (algo.content.nonAdmission) content.appendChild(createBlock('–ü—Ä–∏ –Ω–µ–¥–æ–ø—É—Å–∫–µ:', algo.content.nonAdmission, rawTerm));
      if (algo.content.pricing) content.appendChild(createBlock('–°—Ç–æ–∏–º–æ—Å—Ç—å:', algo.content.pricing, rawTerm));
      if (algo.content.important){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4 style=\"color:#b91c1c;\">–í–∞–∂–Ω–æ:</h4><p><strong>${highlightText(algo.content.important, rawTerm)}</strong></p>`; content.appendChild(b); }
      if (algo.content.recalculation) content.appendChild(createBlock('–ü–µ—Ä–µ—Ä–∞—Å—á–µ—Ç:', algo.content.recalculation, rawTerm));
      if (algo.content.composition) content.appendChild(createBlock('–°–æ—Å—Ç–∞–≤:', algo.content.composition, rawTerm));
      if (algo.content.tasks) content.appendChild(createBlock('–ó–∞–¥–∞—á–∏ –∫–æ–º–∏—Å—Å–∏–∏:', algo.content.tasks, rawTerm));
      if (algo.content.timing) content.appendChild(createBlock('–°—Ä–æ–∫–∏:', algo.content.timing, rawTerm));
      if (algo.content.structure) content.appendChild(createBlock('–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∏—Å—Å–∏–π:', algo.content.structure, rawTerm));
      if (algo.content.consultations){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:</h4><p>${highlightText(algo.content.consultations, rawTerm)}</p>`; content.appendChild(b); }
      if (algo.content.documents && typeof algo.content.documents === 'string'){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–î–æ–∫—É–º–µ–Ω—Ç—ã:</h4><p>${highlightText(algo.content.documents, rawTerm)}</p>`; content.appendChild(b); }
      if (algo.content.deadlines) content.appendChild(createBlock('–°—Ä–æ–∫–∏:', algo.content.deadlines, rawTerm));
      if (algo.content.nonPayment) content.appendChild(createBlock('–ü—Ä–∏ –Ω–µ–æ–ø–ª–∞—Ç–µ:', algo.content.nonPayment, rawTerm));
      if (algo.content.documents && Array.isArray(algo.content.documents)) content.appendChild(createBlock('–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –°–ü–°–î–§:', algo.content.documents, rawTerm));
      if (algo.content.forms) content.appendChild(createBlock('–§–æ—Ä–º—ã –∑–∞—è–≤–ª–µ–Ω–∏–π:', algo.content.forms, rawTerm));
      if (algo.content.reporting) content.appendChild(createBlock('–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å:', algo.content.reporting, rawTerm));
      if (algo.content.storage) content.appendChild(createBlock('–•—Ä–∞–Ω–µ–Ω–∏–µ:', algo.content.storage, rawTerm));
      if (algo.content.special){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–û—Å–æ–±—ã–π –ø–æ—Ä—è–¥–æ–∫:</h4><p>${highlightText(algo.content.special, rawTerm)}</p>`; content.appendChild(b); }
      if (algo.content.correction){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞:</h4><p>${highlightText(algo.content.correction, rawTerm)}</p>`; content.appendChild(b); }
      if (algo.content.control){ const b = document.createElement('div'); b.className = 'algorithm-block'; b.innerHTML = `<h4>–ö–æ–Ω—Ç—Ä–æ–ª—å:</h4><p>${highlightText(algo.content.control, rawTerm)}</p>`; content.appendChild(b); }

      const footer = document.createElement('div'); footer.className = 'algorithm-block';
      if (algo.content.responsible) footer.innerHTML += `<p><strong>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:</strong> ${highlightText(algo.content.responsible, rawTerm)}</p>`;
      if (algo.content.deadline) footer.innerHTML += `<p><strong>–°—Ä–æ–∫:</strong> ${highlightText(algo.content.deadline, rawTerm)}</p>`;
      if (footer.innerHTML) content.appendChild(footer);

      const buttons = document.createElement('div'); buttons.className = 'action-buttons';
      const attachBtn = document.createElement('button'); attachBtn.className = 'action-btn btn-success'; attachBtn.innerHTML = 'üìé –ó–∞–≥—Ä—É–∑–∏—Ç—å'; attachBtn.onclick = () => alert('–§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ');
      const openBtn = document.createElement('button'); openBtn.className = 'action-btn btn-primary'; openBtn.innerHTML = 'üìÑ –î–æ–∫—É–º–µ–Ω—Ç'; openBtn.onclick = () => openSourceDocument(algo.id);
      const collapseBtn = document.createElement('button'); collapseBtn.className = 'action-btn btn-secondary'; collapseBtn.innerHTML = '‚Ü• –°–≤–µ—Ä–Ω—É—Ç—å'; collapseBtn.onclick = () => toggleSection(algo.id);
      buttons.appendChild(attachBtn); buttons.appendChild(openBtn); buttons.appendChild(collapseBtn);
      content.appendChild(buttons);

      card.appendChild(header); card.appendChild(content); return card;
    }

    function createBlock(title, items, rawTerm, ordered=false){
      const block = document.createElement('div'); block.className = 'algorithm-block'; block.innerHTML = `<h4>${title}</h4>`;
      const list = ordered ? document.createElement('ol') : document.createElement('ul');
      items.forEach(item=>{ const li = document.createElement('li'); li.innerHTML = highlightText(item, rawTerm); list.appendChild(li); });
      block.appendChild(list); return block;
    }

    function toggleSection(sectionId){
      const content = document.getElementById(`content-${sectionId}`); const arrow = content.previousElementSibling.querySelector('.section-arrow');
      if (expandedSections.has(sectionId)){ expandedSections.delete(sectionId); content.classList.remove('expanded'); arrow.classList.remove('expanded'); }
      else { expandedSections.add(sectionId); content.classList.add('expanded'); arrow.classList.add('expanded'); }
    }

    function openSourceDocument(sectionId) {
      const selectedReglament = document.getElementById('reglamentSelect').value;
      const navMap = navigationMaps[selectedReglament];
      if (!navMap || !navMap.sections[sectionId]) { alert('–†–∞–∑–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ'); return; }
      const page = navMap.sections[sectionId].page;
      const baseUrl = window.location.href.substring(0, window.location.href.lastIndexOf('/'));
      const pdfUrl = `${baseUrl}${navMap.docUrl}#page=${page}`;
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      if (isMobile) {
        const modal = document.getElementById('sourceModal');
        const sourceText = document.getElementById('sourceText');
        sourceText.innerHTML = `
            <div style="text-align: center; padding: 20px;">
                <h3 style="color: #0f1f3d; margin-bottom: 1rem;">–†–∞–∑–¥–µ–ª ${navMap.sections[sectionId].section || page}</h3>
                <p style="margin-bottom: 1.5rem;">–û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É <strong>${page}</strong></p>
                <a href="${baseUrl}${navMap.docUrl}" class="action-btn btn-primary" style="display: inline-block; text-decoration: none; padding: 0.75rem 1.5rem;">–°–∫–∞—á–∞—Ç—å PDF</a>
                <button onclick="window.open('${baseUrl}${navMap.docUrl}', '_blank')" class="action-btn btn-primary" style="margin-left: 1rem; padding: 0.75rem 1.5rem;">–û—Ç–∫—Ä—ã—Ç—å PDF</button>
            </div>
        `;
        modal.style.display = 'block';
      } else {
        window.open(pdfUrl, '_blank');
      }
    }

    // Listeners
    document.getElementById('reglamentSelect').addEventListener('change', renderContent);
    document.getElementById('searchInput').addEventListener('input', renderContent);
    document.getElementById('clearSearch').addEventListener('click', () => { const i = document.getElementById('searchInput'); i.value = ''; i.focus(); renderContent(); });
    document.getElementById('scrollTopBtn').addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    document.querySelector('.close-modal').addEventListener('click', () => document.getElementById('sourceModal').style.display = 'none');
    window.addEventListener('click', (e) => { const m = document.getElementById('sourceModal'); if (e.target === m) m.style.display = 'none'; });
    window.addEventListener('scroll', () => { const b = document.getElementById('scrollTopBtn'); b.style.display = window.pageYOffset > 300 ? 'flex' : 'none'; });

    // ======= –¢–µ—Å—Ç—ã (console) =======
    function runSearchTests(){
      const t1 = algorithms['r057-2022'].some(a => searchInObject(a, normalizeStr('—Ñ–∏–∑')));
      console.assert(t1, '–ü–æ–∏—Å–∫ –ø–æ "—Ñ–∏–∑" –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–∞–∑–¥–µ–ª(—ã).');
      const t2 = algorithms['r057-2022'].some(a => searchInObject(a, normalizeStr('—Ä—Å–∫—É')) || searchInObject(a, normalizeStr('—Ä—Å–∫')));
      console.assert(t2, '–ü–æ–∏—Å–∫ –ø–æ "–†–°–ö" –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è.');
      const t3 = algorithms['r057-2022'].some(a => searchInObject(a, normalizeStr('–§–ò–ó')));
      console.assert(t3, '–ü–æ–∏—Å–∫ –ø–æ "–§–ò–ó" (–≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ) –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–∞–∑–¥–µ–ª(—ã).');
    }

    renderContent();
    runSearchTests();
  </script>
</body>
</html>
